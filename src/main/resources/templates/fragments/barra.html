<!-- barra.html -->
<div th:fragment="barra(activePage)">
  <!-- Hoja de estilos personalizada -->
  <link rel="stylesheet" href="/css/barra.css">

  <!-- Botón hamburguesa / close (mobile) -->
  <div class="menu">
    <ion-icon name="menu-outline"></ion-icon>
    <ion-icon name="close-outline"></ion-icon>
  </div>

  <!-- Barra lateral -->
  <div class="barra-lateral">
    <!-- Logo -->
    <div class="logo-admin d-flex align-items-center justify-content-center flex-column">
      <img th:src="@{/img/dualstore.png}" alt="DualStore Logo" class="logo-img mb-2">
      <span class="fw-bold fs-5 brand">DualStore</span>
      <span class="panel-text">Panel Admin</span>
    </div>

    <!-- Navegación -->
    <nav class="navegacion">
      <ul class="main-nav">
        <li class="menu-item" th:classappend="${activePage == 'dashboard'} ? ' active'">
          <a th:href="@{/dashboard}">
            <ion-icon name="grid-outline"></ion-icon>
            <span>Dashboard</span>
          </a>
        </li>
        <li class="menu-item" th:classappend="${activePage == 'productos'} ? ' active'">
          <a th:href="@{/productos}">
            <ion-icon name="shirt-outline"></ion-icon>
            <span>Productos</span>
          </a>
        </li>
        <li class="menu-item" th:classappend="${activePage == 'categorias'} ? ' active'">
          <a th:href="@{/categorias}">
            <ion-icon name="pricetags-outline"></ion-icon>
            <span>Categorías</span>
          </a>
        </li>
        <li class="menu-item" th:classappend="${activePage == 'unidadmedida'} ? ' active'">
          <a th:href="@{/unidadmedida}">
            <ion-icon name="cube-outline"></ion-icon>
            <span>Unidades de Medida</span>
          </a>
        </li>
        <li class="menu-item" th:classappend="${activePage == 'usuarios'} ? ' active'">
          <a th:href="@{/usuarios}">
            <ion-icon name="person-outline"></ion-icon>
            <span>Usuarios</span>
          </a>
        </li>
        <li class="menu-item" th:classappend="${activePage == 'roles'} ? ' active'">
          <a th:href="@{/roles}">
            <ion-icon name="key-outline"></ion-icon>
            <span>Roles</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Usuario -->
    <div class="admin-user mt-auto mb-4 px-3">
      <div class="linea"></div>
      <div class="usuario d-flex align-items-center">
        <img th:src="@{/img/dualstore.png}" alt="Usuario" class="user-img me-2">
        <div class="info-usuario">
          <span class="nombre">Admin DualStore</span>
          <span class="email">admin@dualstore.com</span>
        </div>
        <ion-icon name="ellipsis-vertical-outline" class="icon-more"></ion-icon>
      </div>
    </div>
  </div>

  <!-- Overlay móvil -->
  <div class="sidebar-overlay"></div>

  <!-- Ionicons -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <!-- Lógica JS de la barra -->
  <script th:src="@{/js/barra.js}"></script>
</div>